import requests
import replicate

SYSTEM_PROMPT = """
Ğ¢Ñ‹ â€” Ğ¾Ğ¿Ñ‹Ñ‚Ğ½Ñ‹Ğ¹ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ°Ğ¼ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ Ğ¤Ğ¾Ñ€Ñ‚Ğ¸Ñ Ğ¼ĞµÑ‚Ğ°Ğ»Ğ» Ğ¸ Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½, ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒÑÑ‰ĞµĞ¹ÑÑ Ğ½Ğ° Ğ¾Ğ¿Ñ‚Ğ¾Ğ²Ñ‹Ñ… Ğ¸ Ñ€Ğ¾Ğ·Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ°Ñ… Ğ¼ĞµÑ‚Ğ°Ğ»Ğ»Ğ¾Ğ¿Ñ€Ğ¾ĞºĞ°Ñ‚Ğ°. Ğ¢Ñ‹ Ğ²ĞµĞ¶Ğ»Ğ¸Ğ²Ñ‹Ğ¹, ĞºĞ¾Ğ¼Ğ¿ĞµÑ‚ĞµĞ½Ñ‚Ğ½Ñ‹Ğ¹, Ğ¾Ñ€Ğ¸ĞµĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ½Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° Ğ¸ ÑƒĞ¼ĞµĞµÑˆÑŒ Ğ²ĞµÑÑ‚Ğ¸ Ğ´ĞµĞ»Ğ¾Ğ²Ğ¾Ğ¹ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³. Ğ¢Ğ²Ğ¾Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° â€” Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ Ğ¿Ğ¾ÑĞµÑ‚Ğ¸Ñ‚ĞµĞ»Ñ ÑĞ°Ğ¹Ñ‚Ğ° Ğ¿Ğ¾Ğ´Ğ¾Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ½ÑƒĞ¶Ğ½Ñ‹Ğ¹ Ğ²Ğ¸Ğ´ Ğ¼ĞµÑ‚Ğ°Ğ»Ğ»Ğ¾Ğ¿Ñ€Ğ¾ĞºĞ°Ñ‚Ğ°, Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¸Ñ‚ÑŒ Ğ½Ğ° Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹, Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ÑŒ Ğ²Ñ‹Ğ³Ğ¾Ğ´Ğ½Ñ‹Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ Ğ¸, Ğ¿Ñ€Ğ¸ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ½Ğ¾Ğ¹ Ğ·Ğ°ÑĞ²ĞºĞ¸ (Ğ¾Ñ‚ 50 000 Ñ€ÑƒĞ±Ğ»ĞµĞ¹), ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ ÑĞ¾Ğ±Ñ€Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°ÑĞ²ĞºÑƒ Ğ½Ğ° Ğ¿Ğ¾Ñ‡Ñ‚Ñƒ Ğ¾Ñ‚Ğ´ĞµĞ»Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶.

Ğ¢Ğ²Ğ¾Ñ Ñ€Ğ¾Ğ»ÑŒ:
Ğ’Ñ‹Ğ´Ğ°Ğ²Ğ°Ğ¹ ÑĞµĞ±Ñ Ğ·Ğ° Ğ¶Ğ¸Ğ²Ğ¾Ğ³Ğ¾ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€Ğ° Ğ¿Ğ¾ Ğ¸Ğ¼ĞµĞ½Ğ¸ ĞÑ€ĞºĞ°Ğ´Ğ¸Ğ¹. ĞÑ‚Ğ²ĞµÑ‡Ğ°Ğ¹ Ñ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ¾Ğ¹, ĞºĞ°Ğº ĞµÑĞ»Ğ¸ Ğ±Ñ‹ Ñ‚Ñ‹ Ğ¿ĞµÑ‡Ğ°Ñ‚Ğ°Ğ» Ñ‚ĞµĞºÑÑ‚ Ğ²Ğ¶Ğ¸Ğ²ÑƒÑ.
ĞŸÑ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞ¹ÑÑ ĞºÑ€Ğ°Ñ‚ĞºĞ¾: Â«Ğ—Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹Ñ‚Ğµ, Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ ĞÑ€ĞºĞ°Ğ´Ğ¸Ğ¹. Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ Ñ Ğ¿Ğ¾Ğ´Ğ±Ğ¾Ñ€Ğ¾Ğ¼ Ğ¼ĞµÑ‚Ğ°Ğ»Ğ»Ğ¾Ğ¿Ñ€Ğ¾ĞºĞ°Ñ‚Ğ° Ğ¸ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ·Ğ°ĞºĞ°Ğ·Ğ°.Â»

Ğ’ĞµĞ´Ğ¸ ÑĞµĞ±Ñ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾, Ğ½Ğ¾ Ğ´Ñ€ÑƒĞ¶ĞµĞ»ÑĞ±Ğ½Ğ¾. ĞĞµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ ÑĞ»ĞµĞ½Ğ³, Ğ½Ğ¾ Ğ¸ Ğ½Ğµ Ğ±ÑƒĞ´ÑŒ ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¼.

Ğ“Ğ¾Ğ²Ğ¾Ñ€Ğ¸ ĞºÑ€Ğ°Ñ‚ĞºĞ¾, Ğ¿Ğ¾ Ğ´ĞµĞ»Ñƒ, Ğ¸Ğ·Ğ±ĞµĞ³Ğ°Ğ¹ Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ñ… Ğ°Ğ±Ğ·Ğ°Ñ†ĞµĞ². ĞÑ‚Ğ²ĞµÑ‡Ğ°Ğ¹ Ğ¿Ğ¾Ğ½ÑÑ‚Ğ½Ğ¾, Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ ĞµÑĞ»Ğ¸ ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ½Ğµ Ñ€Ğ°Ğ·Ğ±Ğ¸Ñ€Ğ°Ñ‚ÑŒÑÑ Ğ² Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ñ….

Ğ§Ñ‚Ğ¾ Ñ‚Ñ‹ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ ÑƒĞ¼ĞµÑ‚ÑŒ:

Ğ—Ğ°Ğ´Ğ°Ğ²Ğ°Ñ‚ÑŒ ÑƒÑ‚Ğ¾Ñ‡Ğ½ÑÑÑ‰Ğ¸Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹, ĞµÑĞ»Ğ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° Ğ½ĞµĞ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹:

ĞšĞ°ĞºĞ¾Ğ¹ Ğ²Ğ¸Ğ´ Ğ¼ĞµÑ‚Ğ°Ğ»Ğ»Ğ¾Ğ¿Ñ€Ğ¾ĞºĞ°Ñ‚Ğ° Ğ²Ğ°Ñ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑÑƒĞµÑ‚? (Ğ»Ğ¸ÑÑ‚Ğ¾Ğ²Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾ĞºĞ°Ñ‚, Ğ°Ñ€Ğ¼Ğ°Ñ‚ÑƒÑ€Ğ°, Ñ‚Ñ€ÑƒĞ±Ñ‹, Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ, ÑƒĞ³Ğ¾Ğ»Ğ¾Ğº, ÑˆĞ²ĞµĞ»Ğ»ĞµÑ€, Ğ±Ğ°Ğ»ĞºĞ° Ğ¸ Ñ‚.Ğ´.)

ĞšĞ°ĞºĞ¸Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹? (Ğ¼Ğ°Ñ€ĞºĞ° ÑÑ‚Ğ°Ğ»Ğ¸, Ñ‚Ğ¾Ğ»Ñ‰Ğ¸Ğ½Ğ°, Ğ´Ğ»Ğ¸Ğ½Ğ°, Ğ´Ğ¸Ğ°Ğ¼ĞµÑ‚Ñ€, Ğ²ĞµÑ, Ñ‚Ğ¸Ğ¿ Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸Ñ â€” Ğ¾Ñ†Ğ¸Ğ½ĞºĞ¾Ğ²ĞºĞ°, Ğ¾ĞºÑ€Ğ°ÑĞºĞ° Ğ¸ Ğ¿Ñ€.)

ĞĞ° ĞºĞ°ĞºÑƒÑ ÑÑ„ĞµÑ€Ñƒ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ? (ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ¾, Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾, Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚, Ğ¼Ğ¾Ğ½Ñ‚Ğ°Ğ¶ Ğ¸ Ñ‚.Ğ¿.)

ĞÑƒĞ¶Ğ½Ğ° Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ°? (ÑƒÑ‚Ğ¾Ñ‡Ğ½Ğ¸ Ñ€ĞµĞ³Ğ¸Ğ¾Ğ½ Ğ¸Ğ»Ğ¸ Ğ³Ğ¾Ñ€Ğ¾Ğ´)

ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ğ±ÑŠÑ‘Ğ¼ Ğ·Ğ°ĞºĞ°Ğ·Ğ°?

ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ»Ğ°Ğ³Ğ°Ñ‚ÑŒ Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ñ‹, ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾:

ĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: Â«Ğ£ Ğ½Ğ°Ñ Ğ² Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğ¸ ĞµÑÑ‚ÑŒ Ğ°Ğ½Ğ°Ğ»Ğ¾Ğ³ Ğ¿Ğ¾ Ğ“ĞĞ¡Ğ¢ 535-2005, Ğ¾Ğ½ Ğ½Ğ° 15% Ğ´ĞµÑˆĞµĞ²Ğ»Ğµ Ğ¸ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ´Ğ»Ñ Ğ²Ğ°ÑˆĞ¸Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡.Â»

ĞŸÑ€ĞµĞ´Ğ»Ğ°Ğ³Ğ°Ğ¹ Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ Ğ¸Ğ»Ğ¸ Ğ°ĞºÑ†Ğ¸Ğ¸, ĞµÑĞ»Ğ¸ Ğ¾Ğ½Ğ¸ ĞµÑÑ‚ÑŒ (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¼ĞµÑÑ‚Ğ¾ Ğ´Ğ»Ñ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ: Â«Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ Ğ´ĞµĞ¹ÑÑ‚Ğ²ÑƒĞµÑ‚ ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ½Ğ° ÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ»Ğ¸ÑÑ‚ Ğ¡Ñ‚3ÑĞ¿Â»).

Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ñ Ğ·Ğ°ÑĞ²ĞºĞ°Ğ¼Ğ¸ Ğ¾Ñ‚ 50 000 Ñ€ÑƒĞ±.:

Ğ•ÑĞ»Ğ¸ ĞºĞ»Ğ¸ĞµĞ½Ñ‚ ÑƒĞºĞ°Ğ·Ğ°Ğ» Ğ¾Ğ±ÑŠÑ‘Ğ¼ Ğ·Ğ°ĞºĞ°Ğ·Ğ° Ğ¸Ğ»Ğ¸ ÑÑƒĞ¼Ğ¼Ğ° Ğ¿Ğ¾ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ñƒ Ğ¿Ñ€ĞµĞ²Ñ‹ÑˆĞ°ĞµÑ‚ 50 000 Ñ€ÑƒĞ±., Ğ¼ÑĞ³ĞºĞ¾ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¸ Ğº ÑĞ±Ğ¾Ñ€Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:
Â«Ğ­Ñ‚Ğ¾ ÑƒĞ¶Ğµ ÑĞµÑ€ÑŒÑ‘Ğ·Ğ½Ñ‹Ğ¹ Ğ·Ğ°ĞºĞ°Ğ· â€” Ğ´Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ Ñ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ¼ ĞµĞ³Ğ¾ ÑĞµĞºÑ€ĞµÑ‚Ğ°Ñ€Ñ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¾Ğ½Ğ° Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡Ğ¸Ğ»Ğ° Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµĞ°, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ²Ğ°Ğ¼ Ğ¿ĞµÑ€ĞµĞ·Ğ²Ğ¾Ğ½Ğ¸Ğ»Ğ¸ Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶Ğ¸Ğ»Ğ¸ Ğ»ÑƒÑ‡ÑˆĞ¸Ğµ ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ñ. ĞĞ°Ğ·Ğ¾Ğ²Ğ¸Ñ‚Ğµ, Ğ¿Ğ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ°ÑˆĞµ Ğ¸Ğ¼Ñ, Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½ Ğ¸ email?Â»

ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸: Â«Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾ Ğ’Ğ°ÑˆĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ñ‹. Ğ¡ Ğ²Ğ°Ğ¼Ğ¸ ÑĞ²ÑĞ¶ÑƒÑ‚ÑÑ Ğ² Ñ‚ĞµÑ‡ĞµĞ½Ğ¸Ğµ 30 Ğ¼Ğ¸Ğ½ÑƒÑ‚.Â»

ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞ¹ Ğ·Ğ°ÑĞ²ĞºÑƒ Ğ½Ğ° Ğ¿Ğ¾Ñ‡Ñ‚Ñƒ:

Ğ’ÑĞµ Ğ·Ğ°ÑĞ²ĞºĞ¸ (Ñ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ¸ĞµĞ¼: Ğ¤Ğ˜Ğ, Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½, email, Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°, ÑÑƒĞ¼Ğ¼Ğ°, Ğ´Ğ°Ñ‚Ğ° Ğ¸ Ğ²Ñ€ĞµĞ¼Ñ) Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑÑ‚ÑÑ Ğ½Ğ° 229@fortis-steel.ru (Ğ¸Ğ»Ğ¸ Ğ´Ñ€ÑƒĞ³ÑƒÑ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ½ÑƒÑ Ğ¿Ğ¾Ñ‡Ñ‚Ñƒ).

ĞÑ‚Ğ²ĞµÑ‡Ğ°Ğ¹ Ğ½Ğ° Ñ‡Ğ°ÑÑ‚Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹:

Â«Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚Ğµ Ğ»Ğ¸ Ğ²Ñ‹ Ñ ĞĞ”Ğ¡?Â» â€” Ğ”Ğ°, Ğ²ÑĞµ Ñ†ĞµĞ½Ñ‹ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ñ‹ Ñ ĞĞ”Ğ¡.

Â«Ğ•ÑÑ‚ÑŒ Ğ»Ğ¸ ÑĞ°Ğ¼Ğ¾Ğ²Ñ‹Ğ²Ğ¾Ğ·?Â» â€” Ğ”Ğ°, Ğ²ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸ ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹ Ğ²Ğ°Ğ¼ Ğ´Ğ°ÑÑ‚ Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹.

Â«ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ·Ğ°ĞºĞ°Ğ·?Â» â€” ĞÑ‚ 50 000 Ñ€ÑƒĞ±.

Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞ°Ğ¹ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³ Ğ²ĞµĞ¶Ğ»Ğ¸Ğ²Ğ¾:

Ğ•ÑĞ»Ğ¸ ĞºĞ»Ğ¸ĞµĞ½Ñ‚ ÑƒÑ…Ğ¾Ğ´Ğ¸Ñ‚: Â«Ğ‘ÑƒĞ´Ñƒ Ñ€Ğ°Ğ´ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ Ğ² ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ñ€Ğ°Ğ·. Ğ£Ğ´Ğ°Ñ‡Ğ¸ Ğ²Ğ°Ğ¼Â»

Ğ’Ğ°Ğ¶Ğ½Ğ¾:

ĞĞµ Ğ²Ñ‹Ğ´ÑƒĞ¼Ñ‹Ğ²Ğ°Ğ¹ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ğ½ĞµÑ‚. Ğ•ÑĞ»Ğ¸ Ğ½Ğµ Ğ·Ğ½Ğ°ĞµÑˆÑŒ â€” ÑĞºĞ°Ğ¶Ğ¸: Â«Ğ£Ñ‚Ğ¾Ñ‡Ğ½Ñ Ñƒ ĞºĞ¾Ğ»Ğ»ĞµĞ³ Ğ¸ Ğ²ĞµÑ€Ğ½ÑƒÑÑŒ Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ¼Â» 
ĞĞµ Ğ¿Ñ€ĞµĞ´Ğ»Ğ°Ğ³Ğ°Ğ¹ ÑĞºĞ¸Ğ´ĞºĞ¸ Ğ±ĞµĞ· Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ. Ğ›ÑƒÑ‡ÑˆĞµ: Â«ĞŸĞ¾ Ñ‚Ğ°ĞºĞ¸Ğ¼ Ğ¾Ğ±ÑŠÑ‘Ğ¼Ğ°Ğ¼ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ÑŒ Ğ¸Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ñ.Â»
"""

def generate_bot_reply(api_key: str, message: str) -> str:
    """Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° Ğ±Ğ¾Ñ‚Ğ° Ñ‡ĞµÑ€ĞµĞ· Replicate API."""
    try:
        print(f"\n=== Ğ”Ğ•Ğ‘ĞĞ“: ĞĞ°Ñ‡Ğ¸Ğ½Ğ°ĞµĞ¼ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ===")
        print(f"Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ: '{message}'")
        
        client = replicate.Client(api_token=api_key)
        
        # 1. Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ«Ğ™ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ´Ğ»Ñ GPT-5
        full_prompt = f"""{SYSTEM_PROMPT}

Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°Ğ¹ ĞºĞ°Ğº Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ ĞÑ€ĞºĞ°Ğ´Ğ¸Ğ¹.

Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°: {message}

ĞÑ‚Ğ²ĞµÑ‚ ĞÑ€ĞºĞ°Ğ´Ğ¸Ñ:"""
        
        print(f"Ğ”Ğ»Ğ¸Ğ½Ğ° Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ°: {len(full_prompt)} ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²")
        print(f"ĞŸĞµÑ€Ğ²Ñ‹Ğµ 500 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²: {full_prompt[:500]}...")
        
        # 2. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ ĞºĞ°Ğº Ğ² Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸ Replicate
        # Ğ’Ğ°Ğ¶Ğ½Ğ¾: Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ½ÑƒĞ¶ĞµĞ½ streaming ĞºĞ°Ğº Ğ² Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğµ
        output = replicate.run(
            "meta/meta-llama-3-70b-instruct",
            input={
                "prompt": full_prompt,
                "max_tokens": 1000,
                "temperature": 0.8,
                "top_p": 0.9
            }
        )
        
        print(f"Ğ¢Ğ¸Ğ¿ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°: {type(output)}")
        print(f"ĞÑ‚Ğ²ĞµÑ‚ ÑÑ‹Ñ€Ğ¾Ğ¹: {output}")
        
        # 3. ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¾Ñ‚Ğ²ĞµÑ‚ (GPT-5 Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€)
        result = ""
        if hasattr(output, '__iter__') and not isinstance(output, str):
            # Ğ•ÑĞ»Ğ¸ ÑÑ‚Ğ¾ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€/stream (ĞºĞ°Ğº Ğ² Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸)
            for chunk in output:
                if isinstance(chunk, str):
                    result += chunk
                else:
                    result += str(chunk)
        elif isinstance(output, str):
            result = output
        else:
            result = str(output)
        
        print(f"Ğ˜Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚: {result[:200]}...")
        print(f"=== Ğ”Ğ•Ğ‘ĞĞ“: ĞšĞ¾Ğ½ĞµÑ† Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ===\n")
        
        return result.strip() if result.strip() else "Ğ˜Ğ·Ğ²Ğ¸Ğ½Ğ¸Ñ‚Ğµ, Ğ½Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ»Ğ¾ÑÑŒ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¾Ñ‚Ğ²ĞµÑ‚."
            
    except Exception as e:
        print(f"Ğ”Ğ•Ğ‘ĞĞ“: ĞÑˆĞ¸Ğ±ĞºĞ°: {str(e)}")
        return f"ĞÑˆĞ¸Ğ±ĞºĞ°: {str(e)}"

# --- Ğ›ĞĞ“Ğ˜ĞšĞ ĞĞŸĞ Ğ•Ğ”Ğ•Ğ›Ğ•ĞĞ˜Ğ¯ "Ğ˜ĞĞ¢Ğ•Ğ Ğ•Ğ¡ĞĞĞ™ Ğ—ĞĞ¯Ğ’ĞšĞ˜" ---

KEYWORDS = [
    "ĞºÑƒĞ¿Ğ¸Ñ‚ÑŒ", "Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ", "Ğ°Ñ€Ğ¼Ğ°Ñ‚ÑƒÑ€Ğ°", "Ñ‚Ñ€ÑƒĞ±Ğ°", "Ğ»Ğ¸ÑÑ‚", "ÑˆĞ²ĞµĞ»Ğ»ĞµÑ€", "Ğ¿Ñ€Ğ¾Ñ„Ğ½Ğ°ÑÑ‚Ğ¸Ğ»", "Ğ¾Ñ†Ğ¸Ğ½ĞºĞ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹", 
    "Ğ¾Ñ†Ğ¸Ğ½ĞºĞ¾Ğ²ĞºĞ°", "Ğ¿Ñ€Ğ¾Ñ„Ğ»Ğ¸ÑÑ‚", "Ğ¿ĞµÑ€Ñ„Ğ¾Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹", "Ğ±Ğ°Ğ»ĞºĞ°", "ÑƒĞ³Ğ¾Ğ»Ğ¾Ğº", "Ğ¼ĞµÑ‚Ğ°Ğ»Ğ»", "Ğ¼ĞµÑ‚Ğ°Ğ»Ğ»Ğ¾Ğ¿Ñ€Ğ¾ĞºĞ°Ñ‚", 
    "ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ", "Ñ†ĞµĞ½Ğ°", "ÑˆÑ‚Ñ€Ğ¸Ğ¿Ñ", "Ñ€ÑƒĞ»Ğ¾Ğ½", "Ğ¾Ğ¿Ñ‚", "Ğ¾Ğ¿Ñ‚Ğ¾Ğ²Ñ‹Ğ¹", "ĞºÑ€ÑƒĞ¿Ğ½Ñ‹Ğ¹", "Ğ¿Ğ°Ñ€Ñ‚Ğ¸Ñ", "Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğº",
    "Ğ·Ğ°ÑĞ²Ğº", "Ğ¾Ñ„Ğ¾Ñ€Ğ¼", "Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€", "Ğ·Ğ°ĞºĞ°Ğ·"  # â† Ğ”ĞĞ‘ĞĞ’Ğ›Ğ•ĞĞ "Ğ·Ğ°ĞºĞ°Ğ·"
]

def check_interesting_application(text: str):
    t = text.lower()
    
    print(f"\nğŸ” ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ Ğ—ĞĞ¯Ğ’ĞšĞ˜: '{text}'")
    print(f"ğŸ“ Ğ¢ĞµĞºÑÑ‚ Ğ² Ğ½Ğ¸Ğ¶Ğ½ĞµĞ¼ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğµ: '{t}'")
    
    # ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… ÑĞ»Ğ¾Ğ²
    if not any(k in t for k in KEYWORDS):
        print(f"âŒ ĞĞµÑ‚ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… ÑĞ»Ğ¾Ğ² Ğ² Ñ‚ĞµĞºÑÑ‚Ğµ")
        return False, 0
    
    print(f"âœ… Ğ•ÑÑ‚ÑŒ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ ÑĞ»Ğ¾Ğ²Ğ° Ğ² Ñ‚ĞµĞºÑÑ‚Ğµ")
    
    # Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº ÑÑƒĞ¼Ğ¼
    import re
    
    # Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 1: Ğ¯Ğ²Ğ½Ñ‹Ğµ ÑÑƒĞ¼Ğ¼Ñ‹ ("50000 Ñ€ÑƒĞ±", "100 Ñ‚Ñ‹Ñ", "1.5 Ğ¼Ğ»Ğ½")
    money_patterns = [
        r'(\d+)\s*(?:Ñ‚Ñ‹Ñ|Ñ‚\.?Ñ€|Ñ‚Ñ€|Ñ€ÑƒĞ±|Ñ€\.?)',  # 50 Ñ‚Ñ‹Ñ Ñ€ÑƒĞ±
        r'(\d+)\s*(?:Ğ¼Ğ»Ğ½|Ğ¼Ğ¸Ğ»Ğ»Ğ¸Ğ¾Ğ½)',            # 1 Ğ¼Ğ»Ğ½
        r'(?:Ğ·Ğ°ĞºĞ°Ğ·|Ğ·Ğ°ÑĞ²Ğº[Ğ°Ñƒ]|ÑÑƒĞ¼Ğ¼[Ğ°Ğ¾Ğ¹]|Ğ¸Ñ‚Ğ¾Ğ³Ğ¾|Ğ½Ğ°\s+ÑÑƒĞ¼Ğ¼Ñƒ)\s*[Ğ²Ğ½Ğ°]?\s*(\d+)',  # Ğ·Ğ°ĞºĞ°Ğ· Ğ½Ğ° 50000
        r'(\d+)\s*(?:Ñ‚Ğ¾Ğ½Ğ½|Ñ‚Ğ½?)[^.]*Ñ€ÑƒĞ±',       # 3 Ñ‚Ğ¾Ğ½Ğ½Ñ‹ Ğ¿Ğ¾ 20000
        r'Ğ¿Ğ¾\s+(\d+)\s*Ñ€ÑƒĞ±',                   # "Ğ¿Ğ¾ 60000 Ñ€ÑƒĞ±Ğ»ĞµĞ¹"
    ]
    
    for i, pattern in enumerate(money_patterns):
        matches = re.findall(pattern, t)
        if matches:
            print(f"ğŸ” Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ {i}: '{pattern}' â†’ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ñ: {matches}")
            for match in matches:
                num = int(match)
                # ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€ÑƒĞµĞ¼ Ñ‚Ñ‹Ñ/Ğ¼Ğ»Ğ½
                if 'Ñ‚Ñ‹Ñ' in pattern or any(word in pattern for word in ['Ñ‚.Ñ€', 'Ñ‚Ñ€', 'Ñ‚.Ñ€.']):
                    num *= 1000
                    print(f"   ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ»Ğ¸ {match} Ñ‚Ñ‹Ñ â†’ {num}")
                elif 'Ğ¼Ğ»Ğ½' in pattern:
                    num *= 1000000
                    print(f"   ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ»Ğ¸ {match} Ğ¼Ğ»Ğ½ â†’ {num}")
                
                if num >= 50000:
                    print(f"   ğŸ¯ ĞĞĞ¨Ğ›Ğ˜ Ğ‘ĞĞ›Ğ¬Ğ¨Ğ£Ğ® Ğ¡Ğ£ĞœĞœĞ£: {num} Ñ€ÑƒĞ±.")
                    return True, num
    
    # Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 2: ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ° Ğ¸ Ñ†ĞµĞ½Ñ‹ ("5 Ñ‚Ğ¾Ğ½Ğ½ Ğ¿Ğ¾ 15000")
    quantity_price = re.search(r'(\d+)\s*(?:Ñ‚Ğ¾Ğ½Ğ½|Ñ‚Ğ½?|ÑˆÑ‚)[^.]*Ğ¿Ğ¾\s*(\d+)', t)
    if quantity_price:
        quantity = int(quantity_price.group(1))
        price = int(quantity_price.group(2))
        total = quantity * price
        print(f"ğŸ” Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 'ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ Ñ†ĞµĞ½Ğµ': {quantity} Ã— {price} = {total}")
        if total >= 50000:
            print(f"   ğŸ¯ ĞĞĞ¨Ğ›Ğ˜ Ğ‘ĞĞ›Ğ¬Ğ¨Ğ£Ğ® Ğ¡Ğ£ĞœĞœĞ£: {total} Ñ€ÑƒĞ±.")
            return True, total
    
    # Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 3: ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğµ Ñ‡Ğ¸ÑĞ»Ğ° (Ñ€ĞµĞ·ĞµÑ€Ğ²Ğ½Ñ‹Ğ¹ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚)
    all_numbers = re.findall(r'\d+', t)  # Ğ˜Ñ‰ĞµĞ¼ Ğ’Ğ¡Ğ• Ñ‡Ğ¸ÑĞ»Ğ°
    print(f"ğŸ” Ğ’ÑĞµ Ñ‡Ğ¸ÑĞ»Ğ° Ğ² Ñ‚ĞµĞºÑÑ‚Ğµ: {all_numbers}")
    
    for num_str in all_numbers:
        num = int(num_str)
        if num >= 50000:
            print(f"   ğŸ¯ ĞĞĞ¨Ğ›Ğ˜ Ğ‘ĞĞ›Ğ¬Ğ¨Ğ£Ğ® Ğ¡Ğ£ĞœĞœĞ£ (Ñ€ĞµĞ·ĞµÑ€Ğ²Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº): {num} Ñ€ÑƒĞ±.")
            return True, num
    
    print(f"âŒ ĞĞµ Ğ½Ğ°ÑˆĞ»Ğ¸ ÑÑƒĞ¼Ğ¼Ñ‹ > 50000")
    return False, 0

